# ifconfig, netcat

<aside>
π’΅ author : agamtt 2023-11-30

</aside>

# μ‹¤μµ ν™κ²½ λ§λ“¤κΈ°

<aside>
π’΅ **μ—¬κΈ°λ¥Ό μ°Έκ³ ν•©λ‹λ‹¤.**

[μ‹¤μµμ© μ»¨ν…μ΄λ„ λ‘κ° λ§λ“¤κΈ°](https://www.notion.so/2a2d1af41ff440f2b16513d5561bcb3c?pvs=21)

</aside>

# ifconfig

ifconfig λ” interface config μ μ•½μλ΅, ν„μ¬ λ¦¬λ…μ¤ μ»΄ν“¨ν„°μ— μ„¤μΉλ μΈν„°νμ΄μ¤μ™€ IP μ •λ³΄λ¥Ό λ³Ό μ μμµλ‹λ‹¤.

μ°μ„  λ‘κ°μ μ»¨ν…μ΄λ„μ— λ¨λ‘ ifconfig λ¥Ό μ„¤μΉν•©λ‹λ‹¤.

ifconfig λ” net-tools λΌλ” ν”„λ΅κ·Έλ¨ λ¨μ μ¤‘ ν•λ‚μ…λ‹λ‹¤.

```bash
apt update
apt install net-tools
```

μ»¨ν…μ΄λ„μ—μ„ ifconfig λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•λ©΄ IP λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.

```bash
ifconfig
```

ifconfig λ” μΈν„°νμ΄μ¤μ λ©λ΅κ³Ό μ΄λ¦„, κ·Έλ¦¬κ³  μΈν„°νμ΄μ¤μ— λ¶€μ—¬λ IP λ²νΈλ¥Ό λ³΄μ—¬μ¤λ‹λ‹¤.

μ΄μ „μ— λ°°μ› λ“―, λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤λ” μ‹¤μ λ΅ μ΅΄μ¬ν•λ” κΈ°κ³„μ¥μΉμ…λ‹λ‹¤.

λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ ν•λ‚ λ‹Ή ν•λ‚μ IPμ£Όμ†λ¥Ό κ°€μ§€κ³  μμµλ‹λ‹¤.

μ‹¤μ λ΅ μ…λ ¥ν•΄μ„ ν™•μΈν•΄λ³΄λ©΄ eth0 λΌλ” μΈν„°νμ΄μ¤κ°€ μκ³  lo λΌλ” μΈν„°νμ΄μ¤κ°€ μμµλ‹λ‹¤.

![Untitled](Untitled%20201.png)

μ΄λ” μ»΄ν“¨ν„°μ— μ¥μ°©λ λ„¤νΈμ›ν¬ μΉ΄λ“λ¥Ό ifconfig κ°€ μ΅°νν• κ²ƒ μ…λ‹λ‹¤.

λ³΄ν†µ, eth0, eth1, eth2 β€¦ μ²λΌ μ΄λ¦„ λ¶™μ—¬μ§‘λ‹λ‹¤.

μ•„λμ μΉ΄λ“ ν•λ‚κ°€ eth0 ν•λ‚ μ…λ‹λ‹¤.

![Untitled](Untitled%20202.png)

lo λ” localhost λ¥Ό λ‚νƒ€λ‚΄λ” κ²ƒμΌλ΅, μ € μΈν„°νμ΄μ¤μ— ν¨ν‚·μ„ λ³΄λ‚΄λ©΄ λ‹¤μ‹ μμ‹ μ—κ² λμ•„μµλ‹λ‹¤.

μ΄λ” μ»΄ν“¨ν„° λ‚΄λ¶€ν†µμ‹ μ— μ“°μ…λ‹λ‹¤.

![Untitled](Untitled%20203.png)

## μ‹¤μ  μ„λ²„μ IPμ£Όμ† ν™•μΈ

client μ™€ server μ—μ„ ifconfig λ…λ Ήμ„ μ‚¬μ©ν•΄μ„ IPμ£Όμ†λ¥Ό ν™•μΈν•©λ‹λ‹¤. port λ” docker desktop μ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

- lo λ” μ»΄ν“¨ν„°κ°€ μκΈ°μμ‹ κ³Ό ν†µμ‹ ν• λ• μ“°λ”κ±°λ‹, κ·Έκ±° λ§κ³  λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ¥Ό κ³¨λΌμ•Όν•©λ‹λ‹¤.
- inet μ΄λΌκ³  λμ–΄μλ” λ¶€λ¶„ λ’¤μ μ«μκ°€ μΈν„°νμ΄μ¤μ— λ¶€μ—¬λ IP μ£Όμ†μ…λ‹λ‹¤.

![Untitled](Untitled%20204.png)

ν™•μΈν•΄λ³΄λ‹, client μ IPλ” 172.17.0.3 μ΄κ³   server μ IPλ” 172.17.0.2 μ„μ„ μ• μ μμµλ‹λ‹¤.

docker desktop μ„ ν™•μΈν•΄λ³΄λ©΄ μ•„κΉ docker container λ¥Ό μƒμ„±ν–μ„λ•μ™€ κ°™μ΄

server μ port λ” 8001, client μ port λ” 8002 μΈ κ²ƒμ„ μ• μ μμµλ‹λ‹¤.

![Untitled](Untitled%20205.png)

λ”°λΌμ„ λ‹¤μκ³Ό κ°™μ€ μ ‘μ†μ •λ³΄λ¥Ό μ–»μ—μµλ‹λ‹¤.

μ»΄ν“¨ν„° ν†µμ‹ μ„ ν•λ ¤λ©΄ λ°λ“μ‹ IP μ™€ port λ²νΈκ°€ μμ–΄μ•Όν•©λ‹λ‹¤. μ΄λ¥Ό **μ ‘μ†μ •λ³΄(connection details)**λΌκ³  ν•©λ‹λ‹¤.

```
client ip : 172.17.0.3
client port : 8002

server ip : 172.17.0.2
server port : 8001
```

μ΄ μ ‘μ†μ •λ³΄λ” μ»΄ν“¨ν„°λ§λ‹¤ λ‹¤λ¥Ό μ μμµλ‹λ‹¤. μ§μ ‘ ν™•μΈν•΄λ³΄κ³  λ³ΈμΈ κ²ƒμ„ μ΄μ©ν•΄μ•Όν•©λ‹λ‹¤.

## netcat

μ΄μ  λ‘ μ»΄ν“¨ν„°μ μ „ν™”λ²νΈλ¥Ό μ•μ•μΌλ‹, ν•μ½μ—μ„ μ „ν™”λ¥Ό κ±Έ μ μμµλ‹λ‹¤.

netcat μ€ network cat μ μ•½μλ΅, cat λ…λ Ήμ–΄λ¥Ό network μ—μ„ μ“Έ μ μκ² ν•΄μ£Όλ” ν†µμ‹  ν”„λ΅κ·Έλ¨μ…λ‹λ‹¤. λ¦¬λ…μ¤μ—μ„ κ°€μ¥ λ„λ¦¬ μ“°μ΄λ” λ„¤νΈμ›ν¬ ν”„λ΅κ·Έλ¨ μ…λ‹λ‹¤.

κ°κ°μ μ»¨ν…μ΄λ„μ—μ„ netcat μ„ μ„¤μΉν•©λ‹λ‹¤.

```python
apt update
apt install netcat
```

μ»΄ν“¨ν„° ν†µμ‹ μ€ νΈμ§€λ‚ νƒλ°°λ¥Ό λ³΄λ‚΄λ” κ²ƒμ²λΌ λ³΄λ‚΄λ”μ½κ³Ό λ°›λ”μ½μ΄ μ •ν•΄μ Έ μμµλ‹λ‹¤.

ν•λ² μ—°κ²°μ΄ μλ¦½λλ©΄ κ³„μ† ν†µμ‹ μ„ μ£Όκ³  λ°›μ„ μ μμµλ‹λ‹¤. μ΄λ¥Ό TCP ν†µμ‹ μ΄λΌκ³  λ¶€λ¦…λ‹λ‹¤.

netcat λ„ λ³΄λ‚΄λ” μ½κ³Ό λ°›λ”μ½μ΄ μ •ν•΄μ Έ μμµλ‹λ‹¤.

νΈμ§€λ” λ³΄λ‚΄λ”μ‚¬λλ§ λ°›λ”μ‚¬λμ μ£Όμ†λ¥Ό μ…λ ¥ν•©λ‹λ‹¤. netcat μ—μ„λ„ λ™μΌν•©λ‹λ‹¤.

λ³΄λ‚΄λ” μ½μ—μ„λ” μ΄λ ‡κ² ν•©λ‹λ‹¤. μ‹¤μ  IPμ£Όμ†μ™€ μ‹¤μ  port λ²νΈλ΅ λ³€κ²½ν•΄μ•Όν•©λ‹λ‹¤. 

```bash
nc {μƒλ€λ°©μ IP_address} {μƒλ€λ°©μ port}
```

λ°›λ” μ½μ—μ„λ” -l μµμ…μ„ μ…λ ¥ν•΄μ•Όν•©λ‹λ‹¤. listen(λ“£λ‹¤)μ μ•½μμ…λ‹λ‹¤.

```
nc -l -p {λ‚μ port}
```

μ €μ μ»΄ν“¨ν„°μ—μ„λ” μ•„λμ™€ κ°™μµλ‹λ‹¤. 

server μ—μ„λ” μ•„λλ¥Ό μ…λ ¥ν•©λ‹λ‹¤.

```bash
nc -l -p 8001
```

client μ—μ„λ” μ•„λλ¥Ό μ…λ ¥ν•©λ‹λ‹¤.

```bash
nc 172.17.0.2 8001
```

λ‹¨,  server μ—μ„ λ¨Όμ € μ…λ ¥ν•΄μ•Όν•©λ‹λ‹¤.

μΊμΉλ³Όμ—μ„ λ°›λ” μ‚¬λμ΄ λ°›μ„ μ¤€λΉ„λ¥Ό ν•κ³  μμ„ λ• λμ Έμ•Όν•λ” κ²ƒμ²λΌ,

μ»΄ν“¨ν„° ν†µμ‹ λ„ μƒλ€λ°©μ΄ λ°›μ„ μ¤€λΉ„λ¥Ό ν•κ³  μμ–΄μ•Ό μ—°κ²°ν•  μ μμµλ‹λ‹¤. 

μ»΄ν“¨ν„° ν†µμ‹ μ—μ„ β€λ°›μ„ μ¤€λΉ„β€ λ¥Ό **λ¦¬μ¨(Listen)** μ΄λΌκ³  λ¶€λ¦…λ‹λ‹¤.

κ·Έλ ‡μ§€ μ•μΌλ©΄ μ¤λ¥κ°€ μƒκΉλ‹λ‹¤. μ•„λλ” κ·Έλ° μ¤λ¥μ…λ‹λ‹¤.

![Untitled](Untitled%20206.png)

![Untitled](Untitled%20207.png)

μ„λ²„μ—μ„ nc -l -p 8001 μ„ μ…λ ¥ν•λ©΄,

netcat μ΄ 8001 ν¬νΈλ¥Ό μ—΄κ³  listen μƒνƒλ΅ λ€κΈ°ν•©λ‹λ‹¤.  μ΄ μƒνƒμ—μ„λ” λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•΄λ„ μ•„λ¬΄ λ°μ‘μ΄ μ—†μµλ‹λ‹¤.

Ctrl + C λ¥Ό λ„λ¥΄λ©΄ nc κ°€ listen μ„ λ©μ¶”κ³  κΊΌμ§‘λ‹λ‹¤. port λ„ λ‹¤μ‹ λ°λ‚©ν•©λ‹λ‹¤.

![Untitled](Untitled%20208.png)

μ΄μ  ν΄λΌμ΄μ–ΈνΈμ—μ„ nc {μ„λ²„μ μ£Όμ†} {μ„λ²„μ ν¬νΈ} λ¥Ό μ…λ ¥ν•λ©΄ μ„λ²„λ΅ μ—°κ²°λ©λ‹λ‹¤.

μ•„λ μ²λΌ, λ°”λ΅ λ‹¤μ‹ λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•  μ μκ² λλ©΄ μ—°κ²°μ— μ‹¤ν¨ν• κ²ƒ μ…λ‹λ‹¤. netcat μ€ μ—°κ²°μ— μ‹¤ν¨ν•μ—¬λ„ λ³„λ„μ μ¤λ¥λ¥Ό μ¶λ ¥ν•μ§€ μ•μµλ‹λ‹¤.

![Untitled](Untitled%20209.png)

λ§μΌ μ •μƒμ μΌλ΅ μ—°κ²°μ— μ„±κ³µν•λ©΄ λ‘λ‹¤ μ•„λ¬΄κ²ƒλ„ μ¶λ ¥λμ§€ μ•λ” μ—°κ²° μ„±κ³µ μƒνƒκ°€ λ©λ‹λ‹¤.

μ΄λ•, μ–‘μ½ μ¤‘ μ–΄λ”κ°€μ—μ„ ν…μ¤νΈλ¥Ό μ…λ ¥ν•λ©΄ μƒλ€λ°©μ—κ² κ·Έλ€λ΅ μ „μ†΅λ©λ‹λ‹¤.

μΉ΄μΉ΄μ¤ν†΅ κ° ν†΅μ²λΌ μ‘λ™ν•λ” μ»΄ν“¨ν„° ν†µμ‹ μ„ ν•  μ μκ² λ©λ‹λ‹¤.

![Untitled](Untitled%20210.png)

![Untitled](Untitled%20211.png)

μ°λ¦¬λ” ν•΄μ»¤λ΅μ¨, μ»΄ν“¨ν„° μ•μ— μ•‰μ•„μ„ μ „μ„Έκ³„μ λ¨λ“  μ»΄ν“¨ν„°μ— μ ‘μ†ν•  μ μμµλ‹λ‹¤.

λν• λ°”μ΄λ¬μ¤μ— κ°μ—Όμ‹ν‚¨ μ»΄ν“¨ν„°λ¥Ό μ°λ¦¬μ μ„λ²„μ— μ ‘μ†μ‹μΌμ•Όν•©λ‹λ‹¤.

λ”°λΌμ„ μ»΄ν“¨ν„° λ„¤νΈμ›ν¬λ¥Ό μ μ΄ν•΄ν•κ³  μμ–΄μ•Ό ν•©λ‹λ‹¤.

μ΄λ²μ—λ” κ±°κΎΈλ΅ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ— μ ‘μ†ν•κ³ , ν΄λΌμ΄μ–ΈνΈκ°€ Listen ν•λ ¤λ©΄ μ–΄λ–»κ² nc λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•΄μ•Όν•λ”μ§€ μƒκ°ν•΄μ„ μ—°κ²°μ„ μλ¦½ν•΄λ³΄μ„Έμ”.

μ΄ κ±°κΎΈλ΅ μ—°κ²°μ„ μ„±κ³µμ‹ν‚¤μ§€ λ»ν•λ©΄ μ»΄ν“¨ν„° λ„¤νΈμ›ν¬λ¥Ό μ΄ν•΄ν•μ§€ λ»ν• κ²ƒμ΄λ‹ μ΄ νμ΄μ§€λ¥Ό μ²μλ¶€ν„° λ‹¤μ‹ μ‹μ‘ν•μ„Έμ”. 

κ³„μ†