# μ‹¤μµ : μ»¨ν…μ΄λ„ λ‘κ° λ§λ“¤κ³  ν¬νΈν¬μ›λ”©ν•κΈ°

<aside>
π’΅ author : agamtt 2023-11-30

</aside>

# λ„μ»¤ μ»¨ν…μ΄λ„ ν¬νΈ ν¬μ›λ”©

λ„μ»¤ μ»¨ν…μ΄λ„λ” μ‹¤μ  μ»΄ν“¨ν„° μ•μ— ν”„λ΅κ·Έλ¨μΌλ΅ μ‘λ™ν•λ” κ°€μƒμ μ‹λ®¬λ μ΄μ… μ»΄ν“¨ν„° μ…λ‹λ‹¤.

μ»΄ν“¨ν„° λ„¤νΈμ›ν¬λ΅ μΈν„°λ„· λ“±μ ν†µμ‹ μ„ ν•λ ¤λ©΄ λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ λ¶€ν’μ΄ ν•„μ”ν•©λ‹λ‹¤.

κ·Έλ¬λ‚ κ°€μƒμ μ»΄ν“¨ν„°μΈ λ„μ»¤λ” μ‹¤μ  λ¶€ν’μΈ λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤λ¥Ό κ°€μ§€κ³  μμ§€ μ•μµλ‹λ‹¤.

![Untitled](Untitled%20189.png)

λ”°λΌμ„, λ„μ»¤λ¥Ό μ„¤μΉν• μ‹¤μ  μ»΄ν“¨ν„°μ ν¬νΈμ™€ λ„μ»¤μ ν¬νΈλ¥Ό ν¬νΈ ν¬μ›λ”©ν•μ—¬μ•Ό λ„μ»¤μ—μ„ λ„¤νΈμ›ν¬ μ—°κ²°μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

μ•„λμ—μ„ μ‹¤μµν•΄λ³΄λ©΄μ„ ν™•μΈν•΄λ³΄κ² μµλ‹λ‹¤.

## docker container λ‘κ°λ¥Ό λ§λ“¤κ³  port forwarding ν•κΈ°

<aside>
π’΅ **μ°Έκ³ **

μ»΄ν“¨ν„° ν†µμ‹ μ„ ν•  κ°€μƒμ μ»΄ν“¨ν„° λ‘λ€λ¥Ό λ§λ“¤κΈ° μ„ν•μ—¬ μ»΄ν“¨ν„° λ‘λ€λ¥Ό μ‚΄ μλ” μ—†μΌλ‹

docker λ¥Ό μ΄μ©ν•μ—¬ λ‘κ°μ μ»¨ν…μ΄λ„λ¥Ό μƒμ„±ν•©λ‹λ‹¤.  

docker container λ” μ‹¤μ  μ»΄ν“¨ν„°λ‚ λ‹¤λ¦„ μ—†μΌλ―€λ΅, μ‹¤μ  μ„λ²„λ‚ μ»΄ν“¨ν„°λ„ λ™μΌν•κ² μ‘λ™ν•©λ‹λ‹¤.

docker container μ—μ„ μµν μ§€μ‹μ„ μ„λ²„, μ‹¤μ  μ»΄ν“¨ν„°λ¥Ό ν•΄ν‚Ήν•λ”λ°μ— μ‚¬μ©ν•  μ μμµλ‹λ‹¤. 

</aside>

docker container λ¥Ό μƒμ„±ν•λ”, λ³ΈμΈμ΄ κ°€μ§„ μ‹¤μ  μ»΄ν“¨ν„°λ¥Ό **νΈμ¤νΈ(host)** λΌκ³  λ¶€λ¦…λ‹λ‹¤. container λ” container μ…λ‹λ‹¤.

λ¨λ“  μ»΄ν“¨ν„°μ—λ” 1~65535 κ°μ port κ°€ μμµλ‹λ‹¤.

λ³΄ν†µ μ»΄ν“¨ν„° ν†µμ‹ μ—μ„λ” ν•λ‚μ μ¤‘μ•™ μ»΄ν“¨ν„°κ°€ μ—¬λ¬λ€μ μ†λ‹ μ»΄ν“¨ν„°μ™€ μ—°κ²°λλ” κ²½μ°κ°€ λ§μµλ‹λ‹¤.

μλ¥Όλ“¤μ–΄ λ„¤μ΄λ²„λ¥Ό μ΄μ©ν•λ©΄ μ„λ²„λ” λ„¤μ΄λ²„μ— μλ” μ–΄λ–¤ μ»΄ν“¨ν„°μ΄κ³ , μ†λ‹μ€ λ‹Ήμ‹ μ λ…ΈνΈλ¶μ΄λ‚ μ¤λ§νΈν°μ…λ‹λ‹¤.

μ΄λ•, ν•λ€μ μ¤‘μ•™ μ»΄ν“¨ν„°λ¥Ό **μ„λ²„(server)**, μ†λ‹ μ»΄ν“¨ν„°λ¥Ό **ν΄λΌμ΄μ–ΈνΈ(Client)**λΌκ³  λ¶€λ¦…λ‹λ‹¤.

νΈμ¤νΈμ ν„°λ―Έλ„μ„ μ—΄κ³  (Windows μ κ²½μ°, cmd λλ” powershell, MacOSμ κ²½μ° Terminal λλ” iterm)

λ‹¤μμ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.

- μ»¨ν…μ΄λ„ λ‘κ°λ¥Ό μƒμ„±ν•κ³ , λλ¤ μ΄λ¦„μ΄ μ•„λ‹λΌ κ°κ° server, client λ΅ μ„¤μ •ν•©λ‹λ‹¤.
- ν¬νΈν¬μ›λ”© μ„¤μ •μ€ -p λ¥Ό μ…λ ¥ν•κ³ , μ¤νμ΄μ¤λ°”λ¥Ό ν•λ² μ…λ ¥ν•κ³ , νΈμ¤νΈν¬νΈλ²νΈ:μ»¨ν…μ΄λ„ν¬νΈλ²νΈ ν•μ‹μΌλ΅ μ…λ ¥ν•©λ‹λ‹¤.
    - μλ¥Ό λ“¤μ–΄, 8001:8001 μ€ νΈμ¤νΈμ 8001λ² ν¬νΈμ™€ μ»¨ν…μ΄λ„μ 8001 ν¬νΈλ¥Ό μ—°κ²°ν–λ‹¤λ” λ» μ…λ‹λ‹¤.
    - μ•κΈ° μ‰½κ² νΈμ¤νΈμ™€ μ»¨ν…μ΄λ„μ ν¬νΈλ²νΈλ¥Ό λ™μΌν•κ² μ§€μ •ν–μ§€λ§, λ‹¤λ¥΄κ² μ§€μ •ν•λ” κ²ƒλ„ κ°€λ¥ν•©λ‹λ‹¤.

```python
docker run -dit -p 8001:8001 --name server ubuntu
docker run -dit -p 8002:8002 --name client ubuntu
```

κ·Έλ¬λ©΄ λ‹¤μκ³Ό κ°™μ΄ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ μ—­ν• μ„ ν•  μ»¨ν…μ΄λ„κ°€ λ‘κ° μƒμ„±λ©λ‹λ‹¤.

![Untitled](Untitled%20197.png)

vscode λ¥Ό μ΄μ©ν•μ—¬ μ΄λ¥Ό κ°κ° μ—΄μ–΄μ¤λ‹λ‹¤.

Docker ν”λ¬κ·ΈμΈμ„ μ„¤μΉν• ν›„ Docker νƒ­μ— λ“¤μ–΄κ°€μ„ μ»¨ν…μ΄λ„μ— μ°ν΄λ¦­ν• ν›„ Attach ν•λ©΄ λ©λ‹λ‹¤.

![Untitled](Untitled%20198.png)

κ·Έλ¬λ©΄ μ•„λμ™€ κ°™μ΄ λ‘κ°μ μ»¨ν…μ΄λ„κ°€ vscode μ— κ°κ° Attach λ©λ‹λ‹¤.

![Untitled](Untitled%20199.png)

Ctrl + ` λ¥Ό λλ¬μ„ ν„°λ―Έλ„μ„ μ—½λ‹λ‹¤.

μ΄μ  κ°κ° μ°½μ vscode μ ν„°λ―Έλ„μ€ κ° container μ λ¦¬λ…μ¤ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.

![Untitled](Untitled%20200.png)

νΈμ¤νΈμ ν¬νΈλ¥Ό ν†µν•΄ μ™Έλ¶€μ λ„¤νΈμ›ν¬μ™€ ν†µμ‹ ν•  ν†µλ΅μΈ ν¬νΈκ°€ μ„¤μ •λ λ„μ»¤ μ»¨ν…μ΄λ„κ°€ λ‘κ° λ§λ“¤μ–΄ μ΅μµλ‹λ‹¤.

μ‹¤μ λ΅λ” λ„μ»¤λ¥Ό μ„¤μΉν• μ—¬λ¬λ¶„μ μ»΄ν“¨ν„°μ—μ„ μΌμ–΄λ‚λ” μΌμ΄μ§€λ§,

μ‹¤μ  μ„Έμƒμ— λ‘κ°μ λ‹¤λ¥Έ μ»΄ν“¨ν„°κ°€ μΈν„°λ„·μ— μ—°κ²°λμ–΄μλ‹¤κ³  μƒμƒν•΄λ³΄μ„Έμ”.

μ΄μ  μ‹¤μµ μ¤€λΉ„κ°€ λλ‚¬μΌλ‹, λ‘κ°μ μ»΄ν“¨ν„°λ¥Ό ν†µμ‹  μ‹μΌμ„ λ„¤νΈμ›ν¬μ— λ€ν•΄ λ°°μ›λ΄…μ‹λ‹¤.

κ³„μ†